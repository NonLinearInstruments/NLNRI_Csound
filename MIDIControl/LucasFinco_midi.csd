<CsoundSynthesizer><CsInstruments>sr=44100kr=22050ksmps=2nchnls=2; Lucas Finco non-linear system;==============================;;	Este instrumento reconstruye el atractor resultante del sistema de ecuaciones;	de Lucas Finco (quién a su vez las atribuye a Stefan Linz > +):;	y entrega las series temporales resultantes directamente como señal de audio,;	permitiendo variar el parámetro A y dt (el paso de integración);;	This instrument reconstructs the resulting attractor from Lucas Finco's equations (attributed;	to Stefan Linz > +):;	and delivers the time series directly as an audio signal,;	allowing to control A parameter and dt (the integration step);;	x' = y + z;	y' = A|x|-y;	z' = 1-x;;	initial -0.1422 , -0.5594, -0.6496;	Paramter A = rango 2.4 a 2.64;;	Ignasi Alvarez, 1998;	Rev. 2005;;;	Control Midi;	============;	;;	Recibe notas del canal MIDI 1 en el rango desde nota=12 hasta nota=84.;	La velocidad de las notas actua como volumen master,;	el número de nota controla Dt, de modo que tiene afinación !!;;	Utiliza los controladores así:;;	cc77 = parámetro A;	cc05 = ganancia y;	cc15 = ganancia x ;	cc20 = ganancia z;	cc28 = A (ajuste fino);	cc29 = Dt (ajuste fino);;instr 1ka init 2.4 ; estableix un valor mínimkafino init 0kdt init 0kdt2 init 0kdtfino init 0kdtmin init 0.005  ; 0.005 es el mínim audible, el màxim estable se sitúa a 0,64kdtmax init 0.64knota init 0koct init 0knotalow	init	12knotahigh	init	84kpitchconst init 1.059463 ; equal temperament kx init -0.1422ky init -0.5594kz init -0.6496kxo init 0kyo init 0kzo init 0kynew init 0kxnew init 0kznew init 0kfun init 0kynewo init 0kxnewo init 0kznewo init 0kcont init 0kgainx init 0kgainy init 0kgainz init 0kampenv init 0; MIDI ==============================inotnum	notnumiamp	ampmidi	1koct = (inotnum-inotnum%12)/12knota = (inotnum%12); aquí assignem els controladors en la disposició de l'escena Korg del microKontrol:midicontrolchange 77,kamidicontrolchange 15,kgainxmidicontrolchange 5,kgainymidicontrolchange 20,kgainzmidicontrolchange 29,kdtfinomidicontrolchange 28,kafinoif (inotnum<knotalow) kgoto notalowerif (inotnum>knotahigh) kgoto notahigerif (inotnum>knotalow) kgoto notamid notalower:kdt=kdtminkdt2 = kdt/2kgoto audionotahiger:kdt=kdtmaxkdt2 = kdt/2kgoto audionotamid:kdt = ((kdtmin+kdtfino/12800)*kpitchconst^knota)*(2^koct) ;if (kdt>kdtmax) kgoto notamaximkgoto seguimnotamaxim:kdt=kdtmaxseguim:kdt2 = kdt/2outvalue "esekadete",kdtkgoto audio; AUDIO ========================== audio:; preparació de les variables de controlkafino = .1*kafino/128ka = kafino+2.4+(ka/128)*.24 ;2.4 es el valor mínim, el màxim es 2.64 : d'aquí (2.64-2.4)/128=.24 : es a dir, linialment.ka portk ka,0.001outvalue "esaa", kakgainx = (kgainx-64)/64kgainy = (kgainy-64)/64kgainz = (kgainz-64)/64kgainx portk kgainx,0.01kgainy portk kgainy,0.01kgainz portk kgainz,0.01outvalue "esegainx",kgainxoutvalue "esegainy",kgainyoutvalue "esegainz",kgainz; integració de les sèries temporalsloop:;sistema d'equacions (pre-iteració amb Dt)kfun = abs(kx)kxnew=ky+kzkynew=ka*kfun-kykznew=1-kxkxo=kxkyo=kykzo=kzkxnewo=kxnewkynewo=kynewkznewo=kznewkx=kxo+kxnewo*kdtky=kyo+kynewo*kdtkz=kzo+kznewo*kdt;sistema d'equacions (pre-iteració amb Dt2)kfun = abs(kx)kxnew=ky+kzkynew=ka*kfun-kykznew=1-kx;sistema d'equacions (triangulació)kx=kxo+kdt2*(kxnew+kxnewo)ky=kyo+kdt2*(kynew+kynewo)kz=kzo+kdt2*(kznew+kznewo)kcont=kcont+1if kcont!=1 kgoto loopkcont=0; calculem l'envolvent declicker i l'apliquem sobre les series temporals; per obtenir i entregar els senyals d'àudio.kampenv    linenr     iamp*250,.1,.1,.01asig1 = kampenv*(kx*kgainx+ky*kgainy+kgainz*kz); Optionally output to a Display object:outvalue "kdisplax", 0.6+kx/125outvalue "kdisplay", 0.6+kz/125outs asig1,asig1endin</CsInstruments><CsScore>f1	0	65536	10	1f0 1200e</CsScore></CsoundSynthesizer><MacOptions>Version: 3Render: RealAsk: YesFunctions: NoneWindowBounds: 588 55 1133 848Options: -b1024 -A -o/Users/ignasi/Documents/MAC CSOUND/mis cosas/Lorenz2.aif -s -m7 -R </MacOptions><MacGUI>ioView background {65535, 65535, 65535}
ioText {3, 3} {991, 610} label 0.000000 0.001000 "" left "Lucida Grande" 14 {0, 0, 32896} {59110, 59110, 59110} background border Lucas Finco non-linear system                         ioText {8, 31} {216, 574} label 0.000000 0.001000 "" left "Arial" 12 {0, 0, 0} {65535, 65535, 65535} background border ioText {129, 142} {91, 184} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {59110, 59110, 59110} background noborder MIDIioText {11, 231} {34, 24} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder XioText {23, 569} {177, 29} label 0.000000 0.001000 "" left "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder Ignasi Álvarez - 1998/2005ioMeter {226, 5} {760, 600} {44563, 53738, 65535} "kdisplay" 0.548448 "kdisplax" 0.623797 point 5 1000 notrackioText {12, 170} {34, 29} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder AioText {11, 264} {34, 24} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder YioText {11, 291} {33, 24} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder ZioText {13, 35} {104, 29} label 0.000000 0.001000 "" left "Lucida Grande" 12 {0, 0, 0} {52428, 52428, 52428} nobackground noborder x' = y+zioText {13, 66} {104, 29} label 0.000000 0.001000 "" left "Lucida Grande" 12 {0, 0, 0} {52428, 52428, 52428} nobackground noborder y ' = A|x|-yioText {13, 97} {104, 31} label 0.000000 0.001000 "" left "Lucida Grande" 12 {0, 0, 0} {52428, 52428, 52428} nobackground noborder z' = 1-xioText {46, 169} {80, 29} display 2.399998 0.000100 "esaa" left "Lucida Grande" 12 {0, 0, 0} {65535, 65535, 65535} nobackground border <double click to edit text>ioText {12, 200} {34, 29} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder DtioText {46, 199} {80, 29} display 0.640000 0.000100 "esekadete" left "Lucida Grande" 12 {0, 0, 0} {65535, 65535, 65535} nobackground border <double click to edit text>ioText {46, 229} {80, 29} display -0.999991 0.000100 "esegainx" left "Lucida Grande" 12 {0, 0, 0} {65535, 65535, 65535} nobackground border <double click to edit text>ioText {46, 259} {80, 29} display -0.999991 0.000100 "esegainy" left "Lucida Grande" 12 {0, 0, 0} {65535, 65535, 65535} nobackground border <double click to edit text>ioText {46, 289} {80, 29} display -0.999991 0.000100 "esegainz" left "Lucida Grande" 12 {0, 0, 0} {65535, 65535, 65535} nobackground border <double click to edit text>ioText {126, 168} {86, 30} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder CC77 + cc28ioText {127, 201} {85, 26} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder note + cc29ioText {127, 230} {87, 26} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder CC15 [+1/-1]ioText {128, 260} {86, 25} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder CC05 [+1/-1]ioText {128, 287} {86, 29} label 0.000000 0.001000 "" center "Lucida Grande" 10 {0, 0, 0} {65535, 65535, 65535} nobackground noborder CC20 [+1/-1]ioListing {1003, 2} {350, 500}</MacGUI>